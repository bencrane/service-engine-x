# Invoices - Mark Invoice as Paid

## Mark invoice as paid

**POST**
`https://{workspaceUrl}/api/invoices/{invoice}/mark_paid`

Mark invoice as paid. If the invoice is already paid, an error will be thrown. It will be marked as paid with the payment method "Manual". Only invoices that have user assigned can be marked as paid. In case of recurring invoices, it will create subscription for the user if it does not exist. It will also create corresponding orders for the invoice items.

## Request

Provide your bearer token in the Authorization header when making requests to protected resources.

Example: `Authorization: Bearer 123`

### Path Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| invoice | string or allOf | required | Invoice ID |

Example: `E4A269FC`

### Pagination

Links

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| first | string | required | First |
| last | string | required | Last |
| prev | string or null | required | Prev |
| next | string or null | required | Next |

Examples:
- first: `https://example.spp.co/api/{resource}?page=1`
- last: `https://example.spp.co/api/{resource}?page=3`
- prev: `null`
- next: `https://example.spp.co/api/{resource}?page=2`

### Headers

| Header | Type | Description |
|--------|------|-------------|
| X-Api-Version | string | API version identifier, in case of any issues with API please provide this identifier when contacting support |

Example: `2024-03-05`

## Responses

- 200
- 400
- 401

### Invoice

#### Headers

| Header | Type | Required | Description |
|--------|------|----------|-------------|
| X-Api-Identifier | string | required | Unique identifier for the request, in case of any issues with API please provide this identifier when contacting support |
| X-Api-Version | string | required | API version, in case of any issues with API please provide this identifier when contacting support |

Examples:
- X-Api-Identifier: `efc995d2-bfdb-3bc9-80a3-e828bb9c83c2`
- X-Api-Version: `20231214`

#### Body

`application/json`

**responses / 200**

Invoice

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| id | integer | required | Invoice ID |
| number | string | required | Invoice number |
| number_prefix | string | | Invoice number prefix |
| client | User | required | User resource |
| items | array[InvoiceItem] | required | Invoice items |
| billing_address | Address | required | Address |
| status | string | required | Invoice status |
| status_id | integer | required | Invoice status ID |
| created_at | string\<date-time\> | required | Invoice date added |
| date_due | string\<date-time\> | required | Invoice date due |
| date_paid | string\<date-time\> | required | Invoice date paid |
| credit | number | required | Invoice credit |
| tax | number | required | Invoice tax |
| tax_name | string | required | Invoice tax name |
| tax_percent | number | required | Invoice tax percent |
| currency | string | required | Invoice currency |
| reason | string | required | Invoice reason |
| note | string | required | Invoice note |
| ip_address | string | required | Invoice IP address |
| loc_confirm | boolean | required | Invoice loc confirm |
| recurring | object | required | Invoice recurring |
| coupon_id | integer | required | Invoice coupon ID |
| transaction_id | string | required | Invoice transaction ID |
| paysys | string | required | Invoice paysys |
| subtotal | number | required | Invoice subtotal |
| total | number | required | Invoice total |
| employee_id | integer | required | Invoice employee ID |
| view_link | string | required | Invoice view link |
| download_link | string | required | Invoice download link |
| thanks_link | string | required | Invoice thanks link |

Examples:
- id: `1`
- number: `E4A269FC`
- number_prefix: `SPP-`
- status: `Unpaid`
- status_id: `1`
- created_at: `2021-01-01T00:00:00+00:00`
- date_due: `2021-01-01T00:00:00+00`
- date_paid: `2021-01-01T00:00:00+00:00`
- credit: `10.00`
- tax: `10.00`
- tax_name: `Tax`
- tax_percent: `10.00`
- currency: `USD`
- reason: `Reason`
- note: `Note`
- ip_address: `127.0.0.1`
- loc_confirm: `false`
- recurring: `{"r_period_l":12,"r_period_t":"M"}`
- coupon_id: `1`
- transaction_id: `123456789`
- paysys: `Stripe`
- subtotal: `10.00`
- total: `10.00`
- employee_id: `1`
- view_link: `https://example.spp.co/invoices/ABC123?key=9e89caf4dd8627daf0a7a3c1e4d3894f`
- download_link: `https://example.com/invoices/ABC123/download?key=9e89caf4dd8627daf0a7a3c1e4d3894f`
- thanks_link: `https://example.com/thanks/ABC123?key=9e89caf4dd8627daf0a7a3c1e4d3894f`

##### client (User)

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| id | integer | required | User ID |
| aff_id | integer | required | Affiliate ID |
| aff_link | string | required | Affiliate link |
| created_at | string\<date-time\> | required | Date added |
| name_f | string | required | First name |
| name_l | string | required | Last name |
| email | string | required | Email |
| company | string | required | Company |
| tax_id | string | required | Tax ID |
| phone | string | required | Phone |
| address | Address | required | Address |
| note | string | required | Note |
| balance | number | required | Balance |
| optin | string | required | Optin |
| stripe_id | string | required | Stripe ID |
| custom_fields | object | required | Custom fields |
| status | integer | required | Status |
| role_id | integer | required | Role ID |
| role | Role | required | Role |
| name | string | required | Name |
| spent | string\<string\> or null | required | Spent |
| employee_id | integer | required | Employee ID |
| managers | array[UserManager] | required | Managers |
| ga_cid | string | required | Google Analytics Client ID |
| team_owner_ids | array[integer] | required | Team owner IDs |
| team_member_ids | array[integer] | required | Team member IDs |

Examples:
- id: `1`
- aff_id: `1`
- aff_link: `https://example.spp.co/r/ABC123`
- created_at: `2021-09-01T00:00:00+00:00`
- name_f: `John`
- name_l: `Doe`
- email: `user@example.org`
- company: `Example Inc.`
- tax_id: `123456789`
- phone: `123456789`
- note: `Note`
- balance: `10.00`
- optin: `Yes`
- stripe_id: `stripe_id`
- status: `1`
- role_id: `1`
- name: `John Doe`
- spent: `10.00`
- employee_id: `2`
- ga_cid: `123456789.1234567890`

##### address (Address)

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| line_1 | string | required | Address line 1 |
| line_2 | string | required | Address line 2 |
| city | string | required | City |
| country | string | required | Country |
| state | string | required | State |
| postcode | string | required | Postcode |
| name_f | string | required | First name |
| name_l | string | required | Last name |
| tax_id | string | required | Tax ID |
| company_name | string | required | Company name |
| company_vat | string | required | Company VAT |

Examples:
- line_1: `123 Main St`
- line_2: `Suite 100`
- city: `New York`
- country: `US`
- state: `NY`
- postcode: `10001`
- name_f: `John`
- name_l: `Doe`
- tax_id: `123456789`
- company_name: `Acme Inc.`
- company_vat: `123456789`

##### role (Role)

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| dashboard_access | integer | required | Dashboard Access |
| affiliates | integer | required | Affiliates Permission |
| clients | integer | required | Clients Permission |
| coupons | integer | required | Coupons Permission |
| created_at | string\<date-time\> | required | Created at |
| forms | integer | required | Forms Permission |
| id | integer | required | Role ID Permission |
| invoice_access | integer | required | Invoice access Permission |
| invoice_management | integer | required | Invoice management Permission |
| messaging | integer | required | Messaging Permission |
| name | string | required | Role name |
| order_access | integer | required | Order access Permission |
| order_management | integer | required | Order management Permission |
| rank_tracking | integer | required | Rank tracking Permission |
| services | integer | required | Services Permission |
| team | boolean | required | Team Permission. Same as settings_team for backward compatibility. (deprecated) |
| settings | boolean | required | Settings Permission, this only indicates if the role has access to settings or not, for more granular permissions check other fields. Kept for backward compatibility. (deprecated) |
| ticket_access | integer | required | Ticket access Permission |
| ticket_management | integer | required | Ticket management Permission |
| settings_company | boolean | required | Settings Company Permission |
| settings_payments | boolean | required | Settings Payments Permission |
| settings_team | boolean | required | Settings Team Permission |
| settings_modules | boolean | required | Settings Modules Permission |
| settings_integrations | boolean | required | Settings Integrations Permission |
| settings_orders | boolean | required | Settings Orders Permission |
| settings_tickets | boolean | required | Settings Tickets Permission |
| settings_accounts | boolean | required | Settings Accounts Permission |
| settings_messages | boolean | required | Settings Messages Permission |
| settings_tags | boolean | required | Settings Tags Permission |
| settings_sidebar | boolean | required | Settings Sidebar Permission |
| settings_dashboard | boolean | required | Settings Dashboard Permission |
| settings_templates | boolean | required | Settings Templates Permission |
| settings_emails | boolean | required | Settings Emails Permission |
| settings_language | boolean | required | Settings Language Permission |
| settings_logs | boolean | required | Settings Logs Permission |
| updated_at | string\<date-time\> | required | Updated at |

Examples:
- dashboard_access: `3`
- affiliates: `3`
- clients: `3`
- coupons: `3`
- created_at: `2021-08-31T14:48:00+00:00`
- forms: `3`
- id: `1`
- invoice_access: `3`
- invoice_management: `3`
- messaging: `3`
- name: `Administrator`
- order_access: `3`
- order_management: `3`
- rank_tracking: `3`
- services: `3`
- team: `true`
- settings: `1`
- ticket_access: `3`
- ticket_management: `3`
- settings_company: `true`
- settings_payments: `true`
- settings_team: `true`
- settings_modules: `true`
- settings_integrations: `true`
- settings_orders: `true`
- settings_tickets: `true`
- settings_accounts: `true`
- settings_messages: `true`
- settings_tags: `true`
- settings_sidebar: `true`
- settings_dashboard: `true`
- settings_templates: `true`
- settings_emails: `true`
- settings_language: `true`
- settings_logs: `true`
- updated_at: `2021-08-31T14:48:00+00:00`

##### managers (array[UserManager])

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| id | integer | required | User ID |
| name | string | required | User name |
| name_f | string | required | User first name |
| name_l | string | required | User last name |
| email | string | required | User email |
| role_id | integer | required | User role ID |

Examples:
- id: `25`
- name: `John Doe`
- name_f: `John`
- name_l: `Doe`
- email: `user@example.org`
- role_id: `5`

##### items (array[InvoiceItem])

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| amount | string | required | Amount |
| created_at | string\<date-time\> | required | Created at |
| description | string | required | Description |
| discount | string | required | Discount |
| discount2 | string | required | Discount2 |
| id | integer | required | InvoiceItem ID |
| invoice_id | integer | required | Invoice ID |
| name | string | required | Name |
| options | object | required | Options |
| order_id | integer | required | Order ID |
| quantity | integer | required | Quantity |
| service_id | integer | required | Service ID |
| total | string | required | Total |
| updated_at | string\<date-time\> | required | Updated at |

Examples:
- amount: `10.00`
- created_at: `2021-08-31T14:48:00+00:00`
- description: `Description`
- discount: `0.00`
- discount2: `0.00`
- id: `1`
- invoice_id: `1`
- name: `Name`
- order_id: `1`
- quantity: `1`
- service_id: `1`
- total: `10.00`
- updated_at: `2021-08-31T14:48:00+00:00`

##### billing_address (Address)

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| line_1 | string | required | Address line 1 |
| line_2 | string | required | Address line 2 |
| city | string | required | City |
| country | string | required | Country |
| state | string | required | State |
| postcode | string | required | Postcode |
| name_f | string | required | First name |
| name_l | string | required | Last name |
| tax_id | string | required | Tax ID |
| company_name | string | required | Company name |
| company_vat | string | required | Company VAT |

Examples:
- line_1: `123 Main St`
- line_2: `Suite 100`
- city: `New York`
- country: `US`
- state: `NY`
- postcode: `10001`
- name_f: `John`
- name_l: `Doe`
- tax_id: `123456789`
- company_name: `Acme Inc.`
- company_vat: `123456789`