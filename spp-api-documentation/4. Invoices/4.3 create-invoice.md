# Invoices - Create an Invoice

## Create an invoice

**POST**
`https://{workspaceUrl}/api/invoices`

## Request

Provide your bearer token in the Authorization header when making requests to protected resources.

Example: `Authorization: Bearer 123`

### Headers

| Header | Type | Description |
|--------|------|-------------|
| X-Api-Version | string | API version identifier, in case of any issues with API please provide this identifier when contacting support |

Example: `2024-03-05`

### Body

`application/json`

Create invoice - Save invoice request

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| user_id | integer or null | | User ID |
| email | string or null | | User email |
| status | integer or null | | Status |
| tax | number or null | | Tax |
| tax_type | integer or null | | Tax type |
| r_period_l | integer or null | | Recurring period length |
| r_period_t | string or null | | Recurring period type |
| recurring | boolean or null | | Recurring |
| items | array[SaveInvoiceItemRequest] or null | required | Invoice items |
| coupon_id | integer or null | | Coupon ID |
| user_data | object or null | | User data |
| note | string or null | | Note |

Allowed values for status: `0`, `1`, `3`, `4`, `5`, `7`, `null`

Allowed values for tax_type: `0`, `1`, `2`, `3`, `4`, `5`, `6`, `7`, `8`, `null`

Allowed values for r_period_t: `M`, `W`, `D`, `null`

Examples:
- user_id: `1`
- email: `user@example.org`
- status: `1`
- tax: `10.00`
- tax_type: `1`
- r_period_l: `1`
- r_period_t: `M`
- recurring: `true`
- coupon_id: `1`

#### items (array[SaveInvoiceItemRequest])

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| id | integer | | Invoice item ID |
| name | string | required | Name |
| description | string | | Description |
| quantity | integer | required | Quantity |
| amount | number | required | Amount |
| discount | number | | Discount |
| service_id | integer | | Service ID |
| options | object | | Options |

Examples:
- id: `1`
- name: `Name`
- description: `Description`
- quantity: `1`
- amount: `10.00`
- discount: `0.00`
- service_id: `2`

## Responses

- 201
- 400
- 401

### Invoice

#### Headers

| Header | Type | Required | Description |
|--------|------|----------|-------------|
| X-Api-Identifier | string | required | Unique identifier for the request, in case of any issues with API please provide this identifier when contacting support |
| X-Api-Version | string | required | API version, in case of any issues with API please provide this identifier when contacting support |

Examples:
- X-Api-Identifier: `efc995d2-bfdb-3bc9-80a3-e828bb9c83c2`
- X-Api-Version: `20231214`

#### Body

`application/json`

**responses / 201**

Invoice

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| id | integer | required | Invoice ID |
| number | string | required | Invoice number |
| number_prefix | string | | Invoice number prefix |
| client | User | required | User resource |
| items | array[InvoiceItem] | required | Invoice items |
| billing_address | Address | required | Address |
| status | string | required | Invoice status |
| status_id | integer | required | Invoice status ID |
| created_at | string\<date-time\> | required | Invoice date added |
| date_due | string\<date-time\> | required | Invoice date due |
| date_paid | string\<date-time\> | required | Invoice date paid |
| credit | number | required | Invoice credit |
| tax | number | required | Invoice tax |
| tax_name | string | required | Invoice tax name |
| tax_percent | number | required | Invoice tax percent |
| currency | string | required | Invoice currency |
| reason | string | required | Invoice reason |
| note | string | required | Invoice note |
| ip_address | string | required | Invoice IP address |
| loc_confirm | boolean | required | Invoice loc confirm |
| recurring | object | required | Invoice recurring |
| coupon_id | integer | required | Invoice coupon ID |
| transaction_id | string | required | Invoice transaction ID |
| paysys | string | required | Invoice paysys |
| subtotal | number | required | Invoice subtotal |
| total | number | required | Invoice total |
| employee_id | integer | required | Invoice employee ID |
| view_link | string | required | Invoice view link |
| download_link | string | required | Invoice download link |
| thanks_link | string | required | Invoice thanks link |

Examples:
- id: `1`
- number: `E4A269FC`
- number_prefix: `SPP-`
- status: `Unpaid`
- status_id: `1`
- created_at: `2021-01-01T00:00:00+00:00`
- date_due: `2021-01-01T00:00:00+00`
- date_paid: `2021-01-01T00:00:00+00:00`
- credit: `10.00`
- tax: `10.00`
- tax_name: `Tax`
- tax_percent: `10.00`
- currency: `USD`
- reason: `Reason`
- note: `Note`
- ip_address: `127.0.0.1`
- loc_confirm: `false`
- recurring: `{"r_period_l":12,"r_period_t":"M"}`
- coupon_id: `1`
- transaction_id: `123456789`
- paysys: `Stripe`
- subtotal: `10.00`
- total: `10.00`
- employee_id: `1`
- view_link: `https://example.spp.co/invoices/ABC123?key=9e89caf4dd8627daf0a7a3c1e4d3894f`
- download_link: `https://example.com/invoices/ABC123/download?key=9e89caf4dd8627daf0a7a3c1e4d3894f`
- thanks_link: `https://example.com/thanks/ABC123?key=9e89caf4dd8627daf0a7a3c1e4d3894f`

##### client (User)

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| id | integer | required | User ID |
| aff_id | integer | required | Affiliate ID |
| aff_link | string | required | Affiliate link |
| created_at | string\<date-time\> | required | Date added |
| name_f | string | required | First name |
| name_l | string | required | Last name |
| email | string | required | Email |
| company | string | required | Company |
| tax_id | string | required | Tax ID |
| phone | string | required | Phone |
| address | Address | required | Address |
| note | string | required | Note |
| balance | number | required | Balance |
| optin | string | required | Optin |
| stripe_id | string | required | Stripe ID |
| custom_fields | object | required | Custom fields |
| status | integer | required | Status |
| role_id | integer | required | Role ID |
| role | Role | required | Role |
| name | string | required | Name |
| spent | string\<string\> or null | required | Spent |
| employee_id | integer | required | Employee ID |
| managers | array[UserManager] | required | Managers |
| ga_cid | string | required | Google Analytics Client ID |
| team_owner_ids | array[integer] | required | Team owner IDs |
| team_member_ids | array[integer] | required | Team member IDs |

Examples:
- id: `1`
- aff_id: `1`
- aff_link: `https://example.spp.co/r/ABC123`
- created_at: `2021-09-01T00:00:00+00:00`
- name_f: `John`
- name_l: `Doe`
- email: `user@example.org`
- company: `Example Inc.`
- tax_id: `123456789`
- phone: `123456789`
- note: `Note`
- balance: `10.00`
- optin: `Yes`
- stripe_id: `stripe_id`
- status: `1`
- role_id: `1`
- name: `John Doe`
- spent: `10.00`
- employee_id: `2`
- ga_cid: `123456789.1234567890`

##### items (array[InvoiceItem])

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| amount | string | required | Amount |
| created_at | string\<date-time\> | required | Created at |
| description | string | required | Description |
| discount | string | required | Discount |
| discount2 | string | required | Discount2 |
| id | integer | required | InvoiceItem ID |
| invoice_id | integer | required | Invoice ID |
| name | string | required | Name |
| options | object | required | Options |
| order_id | integer | required | Order ID |
| quantity | integer | required | Quantity |
| service_id | integer | required | Service ID |
| total | string | required | Total |
| updated_at | string\<date-time\> | required | Updated at |

Examples:
- amount: `10.00`
- created_at: `2021-08-31T14:48:00+00:00`
- description: `Description`
- discount: `0.00`
- discount2: `0.00`
- id: `1`
- invoice_id: `1`
- name: `Name`
- order_id: `1`
- quantity: `1`
- service_id: `1`
- total: `10.00`
- updated_at: `2021-08-31T14:48:00+00:00`

##### billing_address (Address)

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| line_1 | string | required | Address line 1 |
| line_2 | string | required | Address line 2 |
| city | string | required | City |
| country | string | required | Country |
| state | string | required | State |
| postcode | string | required | Postcode |
| name_f | string | required | First name |
| name_l | string | required | Last name |
| tax_id | string | required | Tax ID |
| company_name | string | required | Company name |
| company_vat | string | required | Company VAT |

Examples:
- line_1: `123 Main St`
- line_2: `Suite 100`
- city: `New York`
- country: `US`
- state: `NY`
- postcode: `10001`
- name_f: `John`
- name_l: `Doe`
- tax_id: `123456789`
- company_name: `Acme Inc.`
- company_vat: `123456789`

Token:
workspaceUrl:
X-Api-Version: