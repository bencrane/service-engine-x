# Coupons - Create a coupon


## Create a coupon

**POST**
`https://{workspaceUrl}/api/coupons`

## Request

Provide your bearer token in the Authorization header when making requests to protected resources.

Example: `Authorization: Bearer 123`

### Headers

| Header | Type | Description |
|--------|------|-------------|
| X-Api-Version | string | API version identifier, in case of any issues with API please provide this identifier when contacting support |

Example: `2024-03-05`

### Body

`application/json`

CouponRequest

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| code | string | required | |
| description | string | | |
| type | string | required | |
| discounts | object | | |
| usage_limit | integer | | |
| has_min_cart_amount | boolean | | |
| min_cart_amount | number | | |
| date_expires | string\<date-time\> | | |

Examples:
- code: `CODE`
- description: `Description`
- type: `percentage`
- discounts: `[{"amount":10,"services":[1]}]`
- usage_limit: `1`
- has_min_cart_amount: `true`
- min_cart_amount: `1`
- date_expires: `2022-01-01 00:00:00`

## Responses

- 201
- 400
- 401

### Coupon created

#### Headers

| Header | Type | Required | Description |
|--------|------|----------|-------------|
| X-Api-Identifier | string | required | Unique identifier for the request, in case of any issues with API please provide this identifier when contacting support |
| X-Api-Version | string | required | API version, in case of any issues with API please provide this identifier when contacting support |

Examples:
- X-Api-Identifier: `efc995d2-bfdb-3bc9-80a3-e828bb9c83c2`
- X-Api-Version: `20231214`

#### Body

`application/json`

**responses / 201**

CouponResource

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| id | integer | required | Coupon ID |
| code | string | required | Code |
| type | string | required | Type |
| description | string | required | Description |
| discounts | object | required | Discounts |
| date_expires | string\<date-time\> | required | Date expires |
| new_customers | boolean | required | New customers |
| single_use | boolean | required | Single use |
| single_quantity | boolean | required | Single quantity |
| duration | boolean | required | Duration |
| min_cart_amount | number | required | Minimum cart amount |
| used_count | integer | required | Used count |
| affiliate | object or null | required | Affiliate |
| created_at | string\<date-time\> | required | Created at |
| updated_at | string\<date-time\> | required | Updated at |

Examples:
- id: `1`
- code: `CODE`
- type: `percentage`
- description: `Description`
- discounts: `[{"amount":10,"services":[1]}]`
- date_expires: `2022-01-01 00:00:00`
- new_customers: `true`
- single_use: `true`
- single_quantity: `true`
- duration: `true`
- min_cart_amount: `1`
- used_count: `1`
- created_at: `2022-01-01T00:00:00Z`
- updated_at: `2022-01-01T00:00:00Z`

Token:
workspaceUrl:
X-Api-Version:

### Request Body Example

```json
{
  "code": "CODE",
  "description": "Description",
  "type": "percentage",
  "discounts": [
    {
      "amount": 10,
      "services": [
        1
      ]
    }
  ],
  "usage_limit": 1,
  "has_min_cart_amount": true,
  "min_cart_amount": 1,
  "date_expires": "2022-01-01 00:00:00"
}
```

Send API Request

```curl
curl --request POST \
  --url https://example.spp.co/api/coupons \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer 123' \
  --header 'Content-Type: application/json' \
  --header 'X-Api-Version: ' \
  --data '{
  "code": "CODE",
  "description": "Description",
  "type": "percentage",
  "discounts": [
    {
      "amount": 10,
      "services": [
        1
      ]
    }
  ],
  "usage_limit": 1,
  "has_min_cart_amount": true,
  "min_cart_amount": 1,
  "date_expires": "2022-01-01 00:00:00"
}'
```

### Response Example

```json
{
  "id": 1,
  "code": "CODE",
  "type": "percentage",
  "description": "Description",
  "discounts": [
    {
      "amount": 10,
      "services": [
        1
      ]
    }
  ],
  "date_expires": "2022-01-01 00:00:00",
  "new_customers": true,
  "single_use": true,
  "single_quantity": true,
  "duration": true,
  "min_cart_amount": 1,
  "used_count": 1,
  "affiliate": {},
  "created_at": "2022-01-01T00:00:00Z",
  "updated_at": "2022-01-01T00:00:00Z"
}
```