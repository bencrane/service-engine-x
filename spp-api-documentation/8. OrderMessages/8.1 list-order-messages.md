# Order Messages - List all messages for an order

## List all messages for an order

**GET**
`https://{workspaceUrl}/api/order_messages/{order}`

Return a list of Messages for an order. The messages are sorted by creation date in descending order.

## Request

Provide your bearer token in the Authorization header when making requests to protected resources.

Example: `Authorization: Bearer 123`

### Path Parameters

| Parameter | Type | Required | Description |
|-----------|------|----------|-------------|
| order | string or allOf | required | The order to get messages for. |

Example: `E4A269FC`

### Pagination

Links

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| first | string | required | First |
| last | string | required | Last |
| prev | string or null | required | Prev |
| next | string or null | required | Next |

Examples:
- first: `https://example.spp.co/api/{resource}?page=1`
- last: `https://example.spp.co/api/{resource}?page=3`
- prev: `null`
- next: `https://example.spp.co/api/{resource}?page=2`

### Headers

| Header | Type | Description |
|--------|------|-------------|
| X-Api-Version | string | API version identifier, in case of any issues with API please provide this identifier when contacting support |

Example: `2024-03-05`

## Responses

- 200
- 401
- 404

### Messages

#### Headers

| Header | Type | Required | Description |
|--------|------|----------|-------------|
| X-Api-Identifier | string | required | Unique identifier for the request, in case of any issues with API please provide this identifier when contacting support |
| X-Api-Version | string | required | API version, in case of any issues with API please provide this identifier when contacting support |

Examples:
- X-Api-Identifier: `efc995d2-bfdb-3bc9-80a3-e828bb9c83c2`
- X-Api-Version: `20231214`

#### Body

`application/json`

**responses / 200**

##### data
array[Message] - Messages

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| id | integer | required | Message ID |
| user_id | integer | required | User ID |
| created_at | string\<date-time\> | required | Date added |
| message | string | required | Message |
| staff_only | boolean | required | Staff only |
| files | array[string] | required | Files |
| order | Order or allOf | required | Order resource |
| ticket | Ticket | required | TicketResource |

Examples:
- id: `1`
- user_id: `1`
- created_at: `2021-09-01T00:00:00+00:00`
- message: `Message`
- staff_only: `false`

##### order (Order or allOf)

Order resource containing IndexOrder (IndexOrderResource) and extended object.

##### ticket (Ticket)

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| id | integer | required | Ticket ID |
| created_at | string\<date-time\> | required | Created at |
| updated_at | string\<date-time\> | required | Updated at |
| last_message_at | string\<date-time\> | required | Last message at |
| date_closed | string\<date-time\> | required | Date closed |
| subject | string | required | Subject |
| user_id | integer | required | User ID |
| form_data | object | required | Form data |
| tags | array[string] | required | Tags |
| note | string | required | Note |
| employees | array[object] | required | Employees |
| status | string | required | Ticket status |
| source | string | required | Ticket source |
| order_id | integer | required | Order ID |
| messages | array[Message] | | Messages |
| client | User | required | User resource |
| metadata | object | | Metadata |

Examples:
- id: `1`
- created_at: `2021-09-01T00:00:00+00:00`
- updated_at: `2021-09-01T00:00:00+00:00`
- last_message_at: `2021-09-01T00:00:00+00:00`
- date_closed: `2021-09-01T00:00:00+00:00`
- subject: `Ticket subject`
- user_id: `1`
- form_data: `{"field_1":"value_1","field_2":"value_2"}`
- note: `Ticket note`
- status: `Ticket status`
- source: `Ticket source`
- order_id: `1`

##### links
Pagination Links

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| first | string | required | First |
| last | string | required | Last |
| prev | string or null | required | Prev |
| next | string or null | required | Next |

Examples:
- first: `https://example.spp.co/api/{resource}?page=1`
- last: `https://example.spp.co/api/{resource}?page=3`
- prev: `null`
- next: `https://example.spp.co/api/{resource}?page=2`

##### meta
Meta

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| current_page | integer | required | Current page |
| from | integer | required | From |
| last_page | integer | required | Last page |
| links | array[object] | required | Links |
| path | string | required | Path |
| per_page | integer | required | Per page |
| to | integer | required | To |
| total | integer | required | Total |

Examples:
- current_page: `1`
- from: `1`
- last_page: `3`
- links: `[{"url":null,"label":"Previous","active":false},{"url":"https://example.spp.co/api/{resource}?page=1","label":"1","active":true},{"url":"https://example.spp.co/api/{resource}?page=2","label":"2","active":false},{"url":"https://example.spp.co/api/{resource}?page=3","label":"3","active":false},{"url":"https://example.spp.co/api/{resource}?page=2","label":"Next","active":false}]`
- path: `https://example.spp.co/api/{resource}`
- per_page: `20`
- to: `20`
- total: `43`

###### links array[object]

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| url | string or null | required | URL |
| label | string | required | Label |
| active | boolean | required | Active |

Examples:
- url: `null`
- label: `Previous`
- active: `false`

Token:
workspaceUrl:
order*:
X-Api-Version:

Send API Request

```curl
curl --request GET \
  --url https://example.spp.co/api/order_messages/{order} \
  --header 'Accept: application/json' \
  --header 'Authorization: Bearer 123' \
  --header 'X-Api-Version: '
```